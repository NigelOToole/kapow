webpackJsonp([1,2],{39:function(t,a,e){"use strict";var r=e(14),n=e(87),c=e(83),s=e.n(c),i=e(82),o=e.n(i);r.a.use(n.a),a.a=new n.a({routes:[{path:"/",component:s.a},{name:"characterDetail",path:"/char/:id",component:o.a,props:!0}],mode:"history",scrollBehavior:function(t,a,e){return e?e:{x:0,y:0}}})},40:function(t,a,e){e(81);var r=e(24)(e(41),e(86),null,null);t.exports=r.exports},41:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(7),n=e(13),c=e.n(n);a.default={name:"app",data:function(){return{loading:!1}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.loading=!0,c.a.getItem("characters").then(function(t){null!==t?(console.log("data from local storage"),r.a.state.characters=t):(console.log("data from API"),r.a.dispatch("loadCharacters"))}).then(function(){console.log("finished loading"),t.loading=!1}).catch(function(t){console.log(t)})}}}},42:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(7);a.default={name:"characterDetail",props:["id"],computed:{characterDetail:function(){return r.a.getters.getCharacterById(this.id)}}}},43:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(7);a.default={name:"characterList",props:[],data:function(){return{searchString:""}},computed:{charactersList:function(){return r.a.state.characters}}}},7:function(t,a,e){"use strict";var r=e(44),n=e.n(r),c=e(45),s=e.n(c),i=e(14),o=e(89),l=e(13),u=e.n(l);i.a.use(o.a);var h=["characters?series=2265&limit=100","characters?series=2265&limit=100&offset=100"];a.a=new o.a.Store({state:{characters:[],charactersPopular:[]},actions:{loadCharacters:function(t){function a(t){var a=t.headers.get("content-type");if(a.includes("application/json"))return e(t);throw new Error("Sorry, content-type "+a+" not supported")}function e(t){return t.json().then(function(a){return t.ok?a:s.a.reject(n()({},a,{status:t.status,statusText:t.statusText}))})}var r=t.commit,c=t.state;fetch("https://gateway.marvel.com:443/v1/public/"+h[0]+"&apikey=26141e57d1bf781685637a4259a48882").then(function(t){return a(t)}).then(function(t){"string"==typeof t.data&&(t.data=JSON.parse(t.data)),r("addCharacters",t.data.results)}).then(function(t){r("sortByPopularity"),r("addMoreInfoURL")}).then(function(t){u.a.setItem("characters",c.characters).then(function(t){return t}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}},mutations:{addCharacters:function(t,a){t.characters=a},sortByPopularity:function(t){t.characters.forEach(function(t){t.popularity=t.comics.available+t.events.available+t.series.available+t.stories.available}),t.characters=t.characters.sort(function(t,a){return a.popularity-t.popularity})},addMoreInfoURL:function(t){t.characters.forEach(function(t){t.moreInfoURL=t.urls.filter(function(t){return"detail"===t.type}).pop().url})}},getters:{getCharacterById:function(t){return function(a){return t.characters.find(function(t){return t.id===a})}}}})},81:function(t,a){},82:function(t,a,e){var r=e(24)(e(42),e(84),null,null);t.exports=r.exports},83:function(t,a,e){var r=e(24)(e(43),e(85),null,null);t.exports=r.exports},84:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("router-link",{staticClass:"back",attrs:{to:"/"}},[t._v("< Back to list")]),t._v(" "),e("div",{staticClass:"characters characters--detail"},[e("div",{staticClass:"characters--detail__item"},[e("img",{staticClass:"img-fluid characters--detail__img",attrs:{src:t.characterDetail.thumbnail.path+"."+t.characterDetail.thumbnail.extension,alt:t.characterDetail.name}})]),t._v(" "),e("div",{staticClass:"characters--detail__item"},[e("h1",[t._v(t._s(t.characterDetail.name))]),t._v(" "),e("p",[t._v(t._s(t.characterDetail.description))]),t._v(" "),e("a",{staticClass:"btn",attrs:{href:""+t.characterDetail.moreInfoURL,target:"_blank"}},[t._v("More information")])])])],1)},staticRenderFns:[]}},85:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"characters characters--list"},t._l(t.charactersList,function(a){return e("router-link",{key:a.id,staticClass:"characters--list__item",attrs:{to:{name:"characterDetail",params:{id:a.id}}}},[e("h2",{staticClass:"characters--list__title"},[t._v(t._s(a.name))]),t._v(" "),e("img",{staticClass:"img-fluid characters--list__img",attrs:{src:a.thumbnail.path+"."+a.thumbnail.extension,alt:a.name}})])}))])},staticRenderFns:[]}},86:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"nav-main"},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v("Kapow!")])],1)]),t._v(" "),t.loading?e("div",{staticClass:"loader"},[t._v("Loading...")]):t._e(),t._v(" "),e("router-view"),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("footer",{staticClass:"container footer"},[e("a",{attrs:{href:"http://marvel.com"}},[t._v("Data provided by Marvel. Â© 2017 MARVEL")])])}]}},90:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e(14),n=e(40),c=e.n(n),s=e(39),i=e(7),o=e(13),l=e.n(o);r.a.config.productionTip=!1,new r.a({el:"#app",router:s.a,store:i.a,template:"<App/>",components:{App:c.a}}),l.a.config({name:"kapowApp"})}},[90]);
//# sourceMappingURL=app.19e194a255e5ece4d373.js.map